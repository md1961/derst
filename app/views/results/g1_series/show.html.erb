<div class="results_g1_series_show">
  <% @h_results.each do |name, array_of_results| -%>
    <table>
      <caption><%= name %></caption>
      <% array_of_results.each do |results| -%>
        <tr>
          <% clazz = results.map(&:place).all? { |p| p == 1 } ? 'achieved' : '' -%>
          <td class="<%= clazz %> racer_name"><%= results.map(&:racer).uniq.join(',') %></td>
          <td class="year"><%= results.map(&:year).uniq.join(',') %></td>
          <% results.each do |result| -%>
            <% clazz = result.place == 1 ? 'win' : result.place == 2 ? 'runner_up' : '' -%>
            <td class="<%= clazz %> race_name"><%= result.race.name %></td>
            <td class="<%= clazz %> place"    ><%= result.place %></td>
          <% end -%>
        </tr>
      <% end -%>
    </table>
  <% end -%>
</div>
