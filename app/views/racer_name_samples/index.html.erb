<div class="racer_name_samples_index">
  <% if @samples -%>
    <%= render partial: 'table_by_type', locals: {type: nil, samples: @samples} %>
  <% else -%>
    <% RacerNameSample.types.keys.each do |type| -%>
      <%= render partial: 'table_by_type', locals: {type: type, samples: @samples_by_type[type]} %>
    <% end -%>
  <% end -%>

  <hr>

  <%= form_with url: racer_name_samples_path, local: true do |f| %>
    <% if @names.size > 0 -%>
      <div class="error">既に存在します</div>
    <% end -%>
    <%= text_field_tag :names, @names, autofocus: true %>
    <% length = @names.length -%>
    <span id="name_length"><%= length.zero? ? '' : length %></span>
    <%= f.submit %>
  <% end -%>
</div>
